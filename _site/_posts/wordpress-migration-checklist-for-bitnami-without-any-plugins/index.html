<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="/index.css" />
    <title>Wordpress migration checklist for Bitnami without any plugins using the terminal | Poorna's blog</title>
    <link
      rel="icon"
      type="image/png"
      href="https://res.cloudinary.com/poorna/image/upload/v1622972701/my-blog/logo/Screenshot_2021-06-06_at_15-14-35_Home_Poorna_s_Blog.png"
    />
    <meta name="description" content="A step by step tutorial on how to migrate a Bitnami Wordpress instance." />
    <meta property="og:description" content="A step by step tutorial on how to migrate a Bitnami Wordpress instance." />
    <meta property="og:title" content="Wordpress migration checklist for Bitnami without any plugins using the terminal | Poorna's Blog " />
    <meta property="og:type" content="blog" />
    <meta property="og:url" content="https://www.poorna.dev/_posts/wordpress-migration-checklist-for-bitnami-without-any-plugins/" />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/poorna/image/upload/v1640502671/my-blog/poorna%20blog%20image.png"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:alt" content="Poorna's blog logo" />
    <meta property="og:locale" content="en_US" />

    <meta property="og:article:published_time" content="Wed Oct 19 2022 02:29:39 GMT+0530 (India Standard Time)" />
    <meta property="og:article:tag" content="Wordpress, Bitnami, AWS" />
    <meta property="og:article:author" content="Poornachandra" />
  </head>

  <body class="bg-slate-200 font-primary">
    <nav class="w-full top-0 sticky py-5 bg-indigo-900">
      <div class="lg:container mx-auto flex justify-between">
        <a
          href="/"
          class="text-3xl underline text-slate-200 font-bold block my-auto"
        >
          Poorna
        </a>
        <div class="flex gap-x-4">
          <a href="/say-hello" class="text-slate-200 text-lg block my-auto hover:underline hover:text-slate-100">
            Say Hello
          </a>
          <a
            rel="noopener"
            href="https://www.linkedin.com/in/poornachandra-v/"
            class="p-0.5 bg-blue-500 hover:bg-blue-600 lg:block hidden my-auto"
          >
            <svg
              class="fill-current text-white block"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13 21H9V9H13V11C13.8526 9.91525 15.1456 9.26857 16.525 9.237C19.0056 9.25077 21.0072 11.2694 21 13.75V21H17V14.25C16.84 13.1326 15.8818 12.3036 14.753 12.306C14.2593 12.3216 13.7932 12.5378 13.4624 12.9046C13.1316 13.2715 12.9646 13.7573 13 14.25V21ZM7 21H3V9H7V21ZM5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5C7 5.53043 6.78929 6.03914 6.41421 6.41421C6.03914 6.78929 5.53043 7 5 7Z"
              ></path>
            </svg>
          </a>
        </div>
      </div>
    </nav>

    <div
      class="bg-indigo-800 py-10 mb-14 flex justify-center border-b-8 border-b-indigo-600"
    >
      <div class="lg:container mx-auto flex justify-between px-4">
        <h1 class="text-5xl font-bold text-slate-100 block my-auto">
          Wordpress migration checklist for Bitnami without any plugins using the terminal
        </h1>
        <p
          class="block my-auto text-gray-600 bg-slate-200 px-2 py-1 rounded-md"
        >
          Intermediate
        </p>
      </div>
    </div>

    <div class="lg:container px-4 mx-auto">
      <div class="prose max-w-none mb-10"><p>This checklist has been written by me since I keep running into the same scenario over and over again during migrations where I forget a simple step and have to repeat everything again.</p>
<p>Think of this tutorial on how to perform migration of an existing Wordpress instance. This tutorial assumes you have knowledge of basic linux commands.</p>
<p>I will be using a <a href="https://aws.amazon.com/marketplace/pp/prodview-bzstv3wbn5wkq?sr=0-1&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Bitnami Wordpress installation</a> on AWS EC2 to demonstrate.
Login to your Wordpress instance and find the installation path of wordpress.</p>
<p><img src="https://poorna-657a.s3.ap-south-1.amazonaws.com/Screenshot+from+2022-10-18+18-01-15.png" alt="Bitnami Wordpress"></p>
<p>My installation is located at <code>/home/&lt;username&gt;/stack/wordpress</code> .</p>
<blockquote>
<p>Wordpress stores its data in 3 main places:</p>
<ol>
<li><code>/wp-content/</code> folder where all the plugins and theme files are located</li>
<li>Database (usually mysql, mariadb or postgres) where data on authentication, users and website content</li>
<li><code>wp-config.php</code> where config details such as website URL and database credentials are located</li>
</ol>
</blockquote>
<p>Let's zip up the <code>/wp-content/</code> folder so that it can be downloaded onto my computer</p>
<pre><code class="language-bash">$~ zip -r ./wp-content wp-content.zip
</code></pre>
<p>Now lets connect to the database and back it up
With the database credentials lets dump the SQL into a file</p>
<pre><code class="language-shell">$~ mysqldump -u &lt;username&gt; -p &lt;database_name&gt; &gt; backup.sql
</code></pre>
<p>Now lets download the backed up files onto our system using scp</p>
<pre><code class="language-shell">$~ scp &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/wp-content.zip ./
$~ scp &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/wp-config.php ./
$~ scp &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/backup.sql ./
</code></pre>
<p>While you're at it. Do not forget to check the version of <code>php-fpm</code> running since you cannot migrate from one version of PHP to another.</p>
<p><img src="https://poorna-657a.s3.ap-south-1.amazonaws.com/Screenshot+from+2022-10-18+18-44-04.png" alt="PHP Version check"></p>
<p>This should lead to you have all the three important files</p>
<ol>
<li><code>wp-content.zip</code></li>
<li><code>wp-config.php</code></li>
<li><code>backup.sql</code></li>
</ol>
<p>Now spin up another instance of wordpress while making sure to match the same PHP version.</p>
<p><img src="https://poorna-657a.s3.ap-south-1.amazonaws.com/Screenshot+2022-10-18+at+19-02-49+AWS+Marketplace+WordPress+Certified+by+Bitnami+and+Automattic.png" alt="New bitnami Installtion"></p>
<p>SSH into the newly logged in instance and delete the following files to make sure they don't overlap.</p>
<ol>
<li><code>/home/&lt;username&gt;/stack/wordpress/wp-content</code></li>
<li><code>/home/&lt;username&gt;/stack/wordpress/wp-config.php</code></li>
</ol>
<p>Now lets upload the same file onto the server</p>
<pre><code class="language-shell">$~ scp ./wp-content.zip &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/wp-content.zip
$~ scp ./wp-config.php &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/wp-config.php
$~ scp ./backup.sql &lt;username&gt;@&lt;ip&gt;:/home/&lt;username&gt;/stack/wordpress/backup.sql
</code></pre>
<p>Unzip the <code>wp-content.zip</code> folder</p>
<pre><code class="language-bash">$~ unzip ./wp-content.zip
</code></pre>
<p>Replace the database credentials in the <code>wp-config.php</code></p>
<pre><code class="language-php">/** The name of the database for WordPress */
define( 'DB_NAME', 'bitnami_wordpress' );
/** Database username */
define( 'DB_USER', '&lt;username&gt;' );
/** Database password */
define( 'DB_PASSWORD', '&lt;password&gt;' );
/** Database hostname */
define( 'DB_HOST', '127.0.0.1:3306' );
</code></pre>
<p>Restore the sql backup back into the database</p>
<pre><code class="language-bash">mysql -u &lt;username&gt; -p bitnami_wordpress &lt; backup.sql
</code></pre>
<p>Your wordpress deployment should be ready and working.</p>
</div>
    </div>

    <a href="/" class="sticky bottom-0 text-xl bg-white px-3 py-2 rounded-r-md">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 inline"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"
        />
      </svg>
      Go back
    </a>
  </body>
</html>
