<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="/index.css" />
    <title>The Ultimate Kibana Docker guide | Poorna's blog</title>
    <link
      rel="icon"
      type="image/png"
      href="https://res.cloudinary.com/poorna/image/upload/v1622972701/my-blog/logo/Screenshot_2021-06-06_at_15-14-35_Home_Poorna_s_Blog.png"
    />
    <meta name="description" content="Kibana is a great platform for all your analytics, its a huuge pain to setup on docker. Here's what I've learnt tinkering with it for 3 months." />
    <meta property="og:description" content="Kibana is a great platform for all your analytics, its a huuge pain to setup on docker. Here's what I've learnt tinkering with it for 3 months." />
    <meta property="og:title" content="The Ultimate Kibana Docker guide | Poorna's Blog " />
    <meta property="og:type" content="blog" />
    <meta property="og:url" content="https://www.poorna.dev/_posts/the-ultimate-docker-kibana-guide/" />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/poorna/image/upload/v1640502671/my-blog/poorna%20blog%20image.png"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:alt" content="Poorna's blog logo" />
    <meta property="og:locale" content="en_US" />

    <meta property="og:article:published_time" content="Tue Sep 07 2021 04:54:42 GMT+0530 (India Standard Time)" />
    <meta property="og:article:tag" content="Kiibana, Docker, docker-compose, Dashboard, Elasticsearch" />
    <meta property="og:article:author" content="Poornachandra" />
  </head>

  <body class="bg-slate-200 font-primary">
    <nav class="w-full top-0 sticky py-5 bg-indigo-900">
      <div class="lg:container mx-auto flex justify-between">
        <a
          href="/"
          class="text-3xl underline text-slate-200 font-bold block my-auto"
        >
          Poorna
        </a>
        <div class="flex gap-x-4">
          <a href="/say-hello" class="text-slate-200 text-lg block my-auto hover:underline hover:text-slate-100">
            Say Hello
          </a>
          <a
            rel="noopener"
            href="https://www.linkedin.com/in/poornachandra-v/"
            class="p-0.5 bg-blue-500 hover:bg-blue-600 lg:block hidden my-auto"
          >
            <svg
              class="fill-current text-white block"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13 21H9V9H13V11C13.8526 9.91525 15.1456 9.26857 16.525 9.237C19.0056 9.25077 21.0072 11.2694 21 13.75V21H17V14.25C16.84 13.1326 15.8818 12.3036 14.753 12.306C14.2593 12.3216 13.7932 12.5378 13.4624 12.9046C13.1316 13.2715 12.9646 13.7573 13 14.25V21ZM7 21H3V9H7V21ZM5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5C7 5.53043 6.78929 6.03914 6.41421 6.41421C6.03914 6.78929 5.53043 7 5 7Z"
              ></path>
            </svg>
          </a>
        </div>
      </div>
    </nav>

    <div
      class="bg-indigo-800 py-10 mb-14 flex justify-center border-b-8 border-b-indigo-600"
    >
      <div class="lg:container mx-auto flex justify-between px-4">
        <h1 class="text-5xl font-bold text-slate-100 block my-auto">
          The Ultimate Kibana Docker guide
        </h1>
        <p
          class="block my-auto text-gray-600 bg-slate-200 px-2 py-1 rounded-md"
        >
          Easy
        </p>
      </div>
    </div>

    <div class="lg:container px-4 mx-auto">
      <div class="prose max-w-none mb-10"><blockquote>
<p><a href="https://www.elastic.co/kibana/">Kibana</a> is a free and open user interface that lets you visualize your Elasticsearch data and navigate the Elastic Stack. Do anything from tracking query load to understanding the way requests flow through your apps.</p>
</blockquote>
<p>Though it is a great tool to have in your arsenal, its not easy to set it up with docker.
Here's a ridiculously simple guide to getting kibana on docker</p>
<h2>Docker Compose configuration to enable kibana:</h2>
<p>This configuration can be used without a seperate kibana configuration file
<code>docker-compose.yml</code></p>
<pre><code class="language-yaml">...
  kibana:
    image: docker.elastic.co/kibana/kibana:7.13.0
    container_name: kibana_es
    environment:
      - SERVER_NAME=kibana.yourdomain.com # add a unique name to your kibana deployment
      - ELASTICSEARCH_HOSTS=http://elastisearch:9200 # your elasitcsearch deployment url - Assuming that you do not have elasticsearch authentication setup
    ports:
      - 5601:5601
    depends_on:
      - elastisearch
    networks:
      - app-network
...
</code></pre>
<p>Now kibana must be accessible at <a href="http://localhost:5601/">http://localhost:5601/</a></p>
<h2>Adding <code>kibana.yml</code> for advanced configuration</h2>
<ol>
<li>Remove environemnt configuration and add kibana.yml volume support in <code>docker-compose.yml</code></li>
</ol>
<pre><code class="language-yaml">...
  kibana:
    image: docker.elastic.co/kibana/kibana:7.13.0
    container_name: kibana_es
    ports:
      - 5601:5601
    depends_on:
      - elastisearch
    networks:
      - app-network
    volumes:
      - ./path/to/kibana.yml:/usr/share/kibana/config/kibana.yml
...
</code></pre>
<ol start="2">
<li>Define <code>kibana.yml</code></li>
</ol>
<pre><code>elasticsearch.username: &quot;elastic&quot; # If you've setup authentication for elasticsearch
elasticsearch.password: &quot;elasticsearchpassword&quot; # Elasticsearch password
elasticsearch.hosts: [&quot;http://elastisearch:9200&quot;] # Your Elasticsearch URL
server.ssl.enabled: false # Disable SSL
server.host: &quot;0.0.0.0&quot; # To allow for connections from outside the docker container
server.name: &quot;My Kibana server&quot; # Name the server
</code></pre>
<p>Now restart your docker-compose and here's what you should see
<img src="https://res.cloudinary.com/poorna/image/upload/c_scale,w_900/v1631025164/my-blog/Screenshot_2021-09-07_at_19-59-52_Elastic.png" alt="Login for elasticsearch"></p>
<p>Now login using the username and password you used to setup ElasticSearch.</p>
</div>
    </div>

    <a href="/" class="sticky bottom-0 text-xl bg-white px-3 py-2 rounded-r-md">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 inline"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"
        />
      </svg>
      Go back
    </a>
  </body>
</html>
